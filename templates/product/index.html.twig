{% extends 'base.html.twig' %}

{% block title %}Listagem de produtos{% endblock %}

{% block body %}
    <h1>Listagem de produtos</h1>

    <div class="row">
        <div class="col-md-12">
            <a href="{{ path('product_new') }}" class="btn btn-primary pull-right">Criar produto</a>
        </div>
    </div>

    {% for message in app.flashes('success') %}
        <div class="alert alert-success mt-4">
            {{ message }}
        </div>
    {% endfor %}
    <table class="table table-striped table-hover mt-2">
        <thead>
            <tr>
                <th>ID</th>
                <th>Nome</th>
                <th>Preço</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
        {% for product in products %}
            <tr>
                <td>{{ product.id }}</td>
                <td>{{ product.name }}</td>
                <td>{{ product.price|number_format(2, ",", ".") }}</td>
                <td>
                    <a href="{{ path('product_show', {'id': product.id}) }}">mostrar</a>
                    <a href="{{ path('product_edit', {'id': product.id}) }}">editar</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="4">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>


{% endblock %}
